<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test API</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
        async function testApi() {
            const payload = {
                name: 'Sample Bottomtext',
                dob: '2004-03-13',
                contact_preference: 'discord',
                contact_address: 'optimisticpanda2'
            };

            try {
                const response = await fetch('http://34.204.164.241:5000/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload),
                    mode: 'cors', // Ensure CORS is handled
                    credentials: 'include' // Include credentials if necessary
                });

                const statusDescription = {
                    200: 'OK: The request has succeeded.',
                    201: 'Created: The request has been fulfilled and has resulted in one or more new resources being created.',
                    400: 'Bad Request: The server could not understand the request due to invalid syntax.',
                    401: 'Unauthorized: The client must authenticate itself to get the requested response.',
                    403: 'Forbidden: The client does not have access rights to the content.',
                    404: 'Not Found: The server can not find the requested resource.',
                    500: 'Internal Server Error: The server has encountered a situation it doesn\'t know how to handle.',
                    // Add more status codes and descriptions as needed
                };

                const description = statusDescription[response.status] || 'Unknown status code';
                alert(`Status Code: ${response.status}\nDescription: ${description}`);
            } catch (error) {
                alert(`Error: ${error.message}`);
            }
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1>Test API</h1>
        <button class="btn btn-primary mt-3" onclick="testApi()">Test</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
